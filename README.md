Wrote this in c for some reason